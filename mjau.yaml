environments:
  - name: local
    variables:
      - key: host
        value: localhost
      - key: port
        value: 8000
requests:
  - name: healthz
    url: http://{host}:{port}/healthz
    method: GET
    headers:
      - key: Content-Type
        value: application/json
    body: '{"key": "value"}'
    store_json_variables:
      - key: status
        path: status
    asserts:
      - description: "status code is 200"
        key: status_code
        value: 200
      - description: "body is correct"
        key: body
        value: '{"status": "ok"}'
  - name: not_found
    url: http://{host}:{port}/404{status}
    method: GET
    headers:
      - key: Content-Type
        value: application/json
    asserts:
      - description: "status code is 404"
        key: status_code
        value: 404
      - description: "body is correct"
        key: body
        value: '404 page not found'
      


